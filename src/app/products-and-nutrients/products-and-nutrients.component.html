
<h1 class="header-main">ДИЕТОЛОГ</h1>
<div class="row">
  <div class="column">

    <div class="filter-prod">
        <p>&nbsp;</p>
        <div>
          <label>
            &nbsp; &nbsp;1. <input type="checkbox" [(ngModel)]="valued_ontop" (change)="finalSorting()">Поместить продукты с выбранными ненулевыми количествами вверху списка
          </label>
          <p><label>
            &nbsp; &nbsp;2. <input type="checkbox" [(ngModel)]="sortBySubstr" (change)="finalSorting()">Затем поместить верху списка продукты, содержащие подстроку:
             <input [(ngModel)]="textSort" type="text" >
           </label></p>
          <p><label>
            &nbsp; &nbsp;3. Затем сортировать продукты по содержанию нутриента:
            <select (change)="onSelectSorting($event)">
              <option value = -1> </option>
              <option *ngFor="let nutrient of nutrients" [value] = "nutrient.id"> {{nutrient.name}}</option>
            </select>
          </label></p>
          <label>
            &nbsp; &nbsp;Подсвечивать по &nbsp; <input type="number" [(ngModel)]="topCountRecommendedProducts" (change)="recalcNutrients()"> &nbsp; рекомендованных продуктов на нутриент
          </label>
          <button class="xls-button" (click)="toExcel()">Excel</button>
          <p></p>
        </div>
        &nbsp;&nbsp;
    </div>
    <p></p>

    <div>
      <ng-container >
        <div class="heiht-table-prod">
          <table class="table-prod">
            <caption class="header-tables">Продукты</caption>
            <th class="th-prod">{{'Количество(гр.)'}}</th>
            <th class="th-prod">{{'Продукт'}}</th>
            <tr *ngFor="let product of products" [ngClass]="getClassProduct(product)">
              <input type="number" title="{{product.hint}}" [(ngModel)]="product.val" (change)="recalcNutrients()">
              <td title="{{product.hint}}" >{{product.name}}</td>
            </tr>
          </table>
        </div>
      </ng-container>
    </div>
  </div>

  <p></p>

  <div class="column">
    <ng-container >
      <div class="heiht-table-nutr">
        <table class="table-nutr">
          <caption class="header-tables">Нутриенты</caption>
          <th class="th-nutr">{{'Нутриент'}}</th>
          <th class="th-nutr">{{'Единицы измерения'}}</th>
          <th class="th-nutr">{{'Суточная норма'}}</th>
          <th class="th-nutr">{{'Количество(гр.)'}}</th>
          <tr *ngFor="let nutrient of nutrients" [ngClass]="getClassNutrient(nutrient)">
            <td title="{{nutrient.hint}}" >{{nutrient.name}}</td>
            <td title="{{nutrient.hint}}">{{nutrient.units}}</td>
            <td title="{{nutrient.hint}}">{{nutrient.dailyrate}}</td>
            <td title="{{nutrient.hint}}">{{nutrient.val | number : '1.0-3'}}</td>
          </tr>
        </table>
      </div>
    </ng-container>
  </div>
</div>
<p>version 1.1</p>


